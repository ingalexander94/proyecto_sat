<div class="wrapper_schedule">
  <app-search-student [title]="title"></app-search-student>

  <app-loading *ngIf="loading"></app-loading>

  <div *ngIf="!loading">
    <p (click)="onShowModal()" class="filter">
      Agregar Filtros <i class="fas fa-filter"></i>
    </p>

    <div class="quotes">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Fecha</th>
            <th>Estudiante</th>
            <th>Estado</th>
            <th *ngIf="state === 'RECHAZADA'">Motivo</th>
          </tr>
        </thead>
        <tbody *ngIf="!loading && meets.length">
          <tr
            *ngFor="let meet of meets; let i = index"
            (click)="toStudent(meet.student.codigo)"
          >
            <td>{{ i + 1 }}</td>
            <td>{{ meet.date | date: "EEEE, d 'de' MMMM 'del' y" }}</td>
            <td>{{ meet.student.nombre }}</td>
            <td>{{ meet.state }}</td>
            <td *ngIf="state === 'RECHAZADA'">{{ meet.reason }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <p *ngIf="!meets.length">No se encontrar√≥n citas programadas</p>

    <div class="pagination">
      <a
        *ngFor="let item of totalPages"
        routerLink="/psicologo/{{ item }}"
        routerLinkActive="active"
        [ngClass]="{ active: page === 1 && item === page }"
        >{{ item }}</a
      >
    </div>
  </div>
</div>

<app-modal-meet
  *ngIf="showModal"
  (isClosed)="onShowModal($event)"
></app-modal-meet>
